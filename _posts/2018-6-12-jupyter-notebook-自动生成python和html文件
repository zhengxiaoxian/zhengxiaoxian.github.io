命令行中运行 ipython locate profile default

找到配置文件目录


切到.jupyte目录下新建文件 jupyter_notebook_config.py


粘贴代码到 jupyter_notebook_config.py

```

#Based off of https://github.com/jupyter/notebook/blob/master/docs/source/extending/savehooks.rst

importio

importos

fromnotebook.utilsimportto_api_path

_script_exporter=None

_html_exporter=None

defscript_post_save(model,os_path,contents_manager,**kwargs):

"""convert notebooks to Python script after save with nbconvert

    replaces `ipython notebook --script`

"""

fromnbconvert.exporters.scriptimportScriptExporter

fromnbconvert.exporters.htmlimportHTMLExporter

ifmodel['type']!='notebook':

return

global_script_exporter

if_script_exporterisNone:

_script_exporter=ScriptExporter(parent=contents_manager)

log=contents_manager.log

global_html_exporter

if_html_exporterisNone:

_html_exporter=HTMLExporter(parent=contents_manager)

log=contents_manager.log

#save .py file

base, ext=os.path.splitext(os_path)

script, resources=_script_exporter.from_filename(os_path)

script_fname=base+resources.get('output_extension','.txt')

log.info("Saving script /%s", to_api_path(script_fname, contents_manager.root_dir))

withio.open(script_fname,'w',encoding='utf-8')asf:

        f.write(script)

#save html

base, ext=os.path.splitext(os_path)

script, resources=_html_exporter.from_filename(os_path)

script_fname=base+resources.get('output_extension','.txt')

log.info("Saving html /%s", to_api_path(script_fname, contents_manager.root_dir))

withio.open(script_fname,'w',encoding='utf-8')asf:

        f.write(script)

c.FileContentsManager.post_save_hook=script_post_save

```

重启jupyter notebook，每次保存笔记本后就会自动生成python文件和html文件了
